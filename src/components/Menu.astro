---
import SystemIcon from "./icons/System.astro";

export const navItems = [
  {
    title: "Experience",
    label: "experience",
    url: "/#experience",
  },
  {
    title: "Projects",
    label: "projects",
    url: "/#projects",
  },
  {
    title: "About me",
    label: "about-me",
    url: "/#about-me",
  },
];
---

<>
<!--   {
    navItems.map((link) => (
      <a
        class="relative block px-2 py-2 transition hover:text-lime-500 font-medium"
        aria-label={link.label}
        href={link.url}
      >
        {link.title}
      </a>
    ))
  }
  <a
    href="https://www.linkedin.com/in/deyleraf/"
    aria-label="contact"
    class="relative block px-2 py-2 transition hover:text-lime-500 font-medium"
    rel="noopener noreferrer"
    target="_blank">Contact</a
  > -->

  <div class="relative ml-1 mr-1">
    <button
      id="menu-toggle-btn"
      class="appearance-none border-none flex hover:scale-125 transition"
    >
      <!-- <span class="sr-only">Choose your theme</span> -->
      <SystemIcon
        class="size-5 transition-all"
      />
    </button>
    <div
      id="dropdown-menu"
      class="absolute hidden scale-80 top-8 right-0 text-sm p-1 min-w-[8rem] rounded-md backdrop-blur-3xl bg-lime-400/90 dark:bg-lime-600/90 border border-lime-600 dark:border-lime-400 shadow-[0_3px_10px_rgb(0,0,0,0.3)] dark:shadow-[0_3px_10px_rgb(255,255,255,0.3)]"
    >
      <ul>
        {
          navItems.map((link) => (
            <a
              class="relative block px-2 py-2 transition hover:text-lime-500 font-medium"
              aria-label={link.label}
              href={link.url}
            >
              {link.title}
            </a>
          ))
        }
        <a
          href="https://www.linkedin.com/in/deyleraf/"
          aria-label="contact"
          class="relative block px-2 py-2 transition hover:text-lime-500 font-medium"
          rel="noopener noreferrer"
          target="_blank">Contact</a
        >
      </ul>
    </div>
  </div>
</>

<style>
  #dropdown-menu.open {
      display: inline;
      animation: scale-up-center 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94)
          both;
  }

  @keyframes scale-up-center {
      from {
          transform: scale(0.8);
          opacity: 0;
      }

      to {
          transform: scale(1);
          opacity: 1;
      }
  }
</style>

<script is:inline>
  const dropdownMenu = document.getElementById("dropdown-menu");

  document.addEventListener("click", () =>
      dropdownMenu.classList.remove("open"),
  );

  document
      .getElementById("menu-toggle-btn")
      .addEventListener("click", (e) => {
          e.stopPropagation();
          const isClosed = !dropdownMenu.classList.contains("open");
          dropdownMenu.classList[isClosed ? "add" : "remove"]("open");
      });
</script>